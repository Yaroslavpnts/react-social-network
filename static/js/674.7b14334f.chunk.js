"use strict";(self.webpackChunkfirst_app_puntus=self.webpackChunkfirst_app_puntus||[]).push([[674],{9674:function(t,s,e){e.r(s),e.d(s,{default:function(){return A}});var r=e(5671),n=e(3144),i=e(136),a=e(7277),u=e(8683),o=e(2791),c=e(6070),l={createPost:"MyPosts_createPost__QkMEn"},d="Post_item__eXWWW",p=e(184),h=function(t){return(0,p.jsxs)("div",{className:d,children:[(0,p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPPW9da0an7QBRUAzS0Kg7QsF9JXJ9n7wVgw&usqp=CAU",alt:""}),t.message,(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"likes "}),t.likesCount]})]})},f=e(5705),m=o.memo((function(t){var s=t.posts.map((function(t){return(0,p.jsx)(h,{message:t.message,likesCount:t.likesCount},t.message)})),e=o.createRef();return console.log("render"),(0,p.jsxs)("div",{className:l.postsBlock,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(f.J9,{initialValues:{postText:""},onSubmit:function(s,e){t.addPost(s),e.resetForm()},children:function(t){var s=t.values,r=t.handleChange,n=t.handleSubmit;t.setValues;return(0,p.jsx)("form",{children:(0,p.jsxs)("div",{className:l.createPost,children:[(0,p.jsx)("div",{children:(0,p.jsx)("textarea",{name:"postText",ref:e,value:s.postText,onChange:r})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{type:"submit",onClick:n,children:"Add post"})})]})})}}),(0,p.jsx)("div",{className:l.posts,children:s})]})})),j=e(6434),x=(0,j.$j)((function(t){return{posts:t.profilePage.postsData}}),(function(t){return{addPost:function(s){t((0,c.Wl)(s))}}}))(m),v={mainImg:"ProfileInfo_mainImg__n+5zW",descriptionBlock:"ProfileInfo_descriptionBlock__vqh3S",avatar:"ProfileInfo_avatar__CEgBB"},g=e(4353),_=e(6518),P=e(885),S="ProfileStatus_profileStatus__Y4iOh",k="ProfileStatus_editMode__KY0qP",C=function(t){var s=(0,o.useState)(!1),e=(0,P.Z)(s,2),r=e[0],n=e[1],i=(0,o.useState)(t.status),a=(0,P.Z)(i,2),u=a[0],c=a[1];(0,o.useEffect)((function(){c(t.status),r&&l.current.focus()}),[t.status,r]);var l=o.createRef();return(0,p.jsxs)("div",{className:S,children:[(0,p.jsx)("div",{children:(0,p.jsx)("span",{className:r?k:"",onDoubleClick:function(){n(!0)},children:t.status||"------"})}),(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(t){c(t.target.value)},ref:l,className:r?k:"",onBlur:function(){n(!1),t.updateStatus(u)},value:u||""})})]})},Z=function(t){var s=t.profile,e=t.status,r=t.updateStatus;return s?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:v.mainImg,children:(0,p.jsx)("img",{src:"https://thumbs.dreamstime.com/b/cosmos-beauty-deep-space-elements-image-furnished-nasa-science-fiction-art-102581846.jpg",alt:""})}),(0,p.jsxs)("div",{className:v.descriptionBlock,children:[(0,p.jsx)("div",{className:v.avatar,children:(0,p.jsx)("img",{src:s.photos.large?s.photos.large:g,alt:""})}),(0,p.jsxs)("div",{className:v.aboutMe,children:[(0,p.jsx)(C,{status:e,updateStatus:r}),(0,p.jsx)("h3",{children:s.fullName}),(0,p.jsx)("p",{children:"Birthday"}),(0,p.jsx)("p",{children:"Cty"}),(0,p.jsx)("p",{children:"Education"}),(0,p.jsx)("p",{children:"Website"})]})]})]}):(0,p.jsx)(_.Z,{})},b=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(Z,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,p.jsx)(x,{})]})},I=e(6871),N=e(1103),U=e(7781);var y=function(t){(0,i.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,p.jsx)("div",{children:(0,p.jsx)(b,(0,u.Z)((0,u.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus}))})}}]),e}(o.Component),A=(0,U.qC)((0,j.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:c.et,getUserStatus:c.Tq,updateUserStatus:c.OL}),(function(t){return function(s){var e=(0,I.TH)(),r=(0,I.s0)(),n=(0,I.UO)();return(0,p.jsx)(t,(0,u.Z)((0,u.Z)({},s),{},{router:{location:e,navigate:r,params:n}}))}}),N.D)(y)},1103:function(t,s,e){e.d(s,{D:function(){return h}});var r=e(8683),n=e(5671),i=e(3144),a=e(136),u=e(7277),o=e(2791),c=e(6871),l=e(6434),d=e(184),p=function(t){return{isAuth:t.auth.isAuth,authorizedUserId:t.auth.userId}},h=function(t){var s=function(s){(0,a.Z)(o,s);var e=(0,u.Z)(o);function o(){return(0,n.Z)(this,o),e.apply(this,arguments)}return(0,i.Z)(o,[{key:"render",value:function(){return this.props.isAuth||this.props.authorizedUserId?(0,d.jsx)(t,(0,r.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),o}(o.Component);return(0,l.$j)(p)(s)}}}]);
//# sourceMappingURL=674.7b14334f.chunk.js.map